{
   "id": "io.github.nyre221.kiview",
   "runtime": "org.kde.Platform",
   "runtime-version": "6.6",
   "sdk": "org.kde.Sdk",
   "base": "io.qt.qtwebengine.BaseApp",
   "base-version": "6.6",
   "command": "kiview",
   "finish-args": [
      "--share=ipc",
      "--device=dri",
      "--socket=fallback-x11",
      "--socket=wayland",
      "--env=QML_IMPORT_PATH=/app/qml" ,
      "--socket=pulseaudio",
      "--socket=session-bus",
      "--filesystem=host:ro",
      "--filesystem=/var/tmp:ro",
      "--talk-name=org.freedesktop.Flatpak",
      "--talk-name=org.kde.klipper",
      "--talk-name=org.kde.dolphin"
   ],
   "cleanup-commands":[ "/app/cleanup-BaseApp.sh"],
   "modules": [
      {
         "buildsystem": "cmake-ninja",
         "name": "kiview",
         "sources": [
            {
               "type": "git",
               "url": "https://github.com/Nyre221/Kiview.git",
               "commit":"04f7736b916df3849df0d7d6a284c8de5c950066"
            }
         ]
      },
      {
         "name": "unrar",
         "no-autogen": true,
         "build-options": {
         "strip": true
         },
         "make-install-args": ["DESTDIR=$(FLATPAK_DEST)"],
         "sources": [
            {
               "type": "archive",
               "url": "https://www.rarlab.com/rar/unrarsrc-6.2.12.tar.gz",
               "sha256": "a008b5f949bca9bb4ffa1bebbfc8b3c14b89df10a10354809b845232d5f582e5",
               "x-checker-data": {
               "type": "anitya",
               "project-id": 13306,
               "url-template": "https://www.rarlab.com/rar/unrarsrc-$version.tar.gz"
               }
            }
         ]
      }
   ]
}
